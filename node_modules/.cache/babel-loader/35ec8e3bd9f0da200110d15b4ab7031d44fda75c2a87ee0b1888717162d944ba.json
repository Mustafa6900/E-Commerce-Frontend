{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fener\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\React Projeler\\\\ZaraDemo\\\\node-react-ecommerce-master\\\\frontend\\\\src\\\\screens\\\\FavoritesScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Cookie from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CartScreen() {\n  _s();\n  const [favorites, setFavorites] = useState([]);\n  const [deleteitem, setDeleteItem] = useState([]);\n  useEffect(() => {\n    async function fetchcartData() {\n      const userInfo = JSON.parse(Cookie.get('userInfo'));\n      console.log(userInfo[0][0].id, \"  user id\");\n      const response = await fetch(\"http://localhost:3000/favorites\", {\n        method: 'POST',\n        body: JSON.stringify({\n          user_id: userInfo[0][0].id\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      setFavorites(data[0]);\n    }\n    fetchcartData();\n  }, []);\n  function deleteFavoritesItem() {\n    async function fetchdeletefavoritesData() {\n      const userInfo = JSON.parse(Cookie.get('userInfo'));\n      try {\n        const response = await fetch('http://localhost:3000/favorites/deletefavorites', {\n          method: 'POST',\n          body: JSON.stringify({\n            product_id: deleteitem,\n            user_id: userInfo[0][0].id\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const data = await response.json();\n        console.log(data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    fetchdeletefavoritesData();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Favoriler\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"User_id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Product_id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [favorites.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.user_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.product_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 1\n          }, this)]\n        }, item.user_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 1\n        }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: () => {\n            deleteFavoritesItem();\n          },\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"form-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"deleteitem\",\n                children: \"Delete Item Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"deleteitem\",\n                id: \"deleteitem\",\n                onChange: e => setDeleteItem(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"button primary\",\n                children: \"Delete Favorites \\u0130tem\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 1\n  }, this);\n}\n_s(CartScreen, \"HGlu5p6ik9GXD9OssJ/vBHL6WxI=\");\n_c = CartScreen;\nexport default CartScreen;\nvar _c;\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"names":["React","useState","useEffect","Cookie","CartScreen","favorites","setFavorites","deleteitem","setDeleteItem","fetchcartData","userInfo","JSON","parse","get","console","log","id","response","fetch","method","body","stringify","user_id","headers","data","json","deleteFavoritesItem","fetchdeletefavoritesData","product_id","error","map","item","e","target","value"],"sources":["C:/Users/fener/OneDrive/Masaüstü/React Projeler/ZaraDemo/node-react-ecommerce-master/frontend/src/screens/FavoritesScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Cookie from 'js-cookie';\r\nfunction CartScreen() {\r\n\r\nconst [favorites, setFavorites] = useState([]);\r\nconst [deleteitem, setDeleteItem] = useState([]);\r\n\r\nuseEffect(() => {\r\n\r\n  async function fetchcartData() {\r\n    const userInfo = JSON.parse(Cookie.get('userInfo'));\r\n    console.log(userInfo[0][0].id, \"  user id\");\r\n    const response = await fetch(\"http://localhost:3000/favorites\", {\r\n      method: 'POST',\r\n      body: JSON.stringify({ \r\n        user_id: userInfo[0][0].id,\r\n        \r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    const data = await response.json();\r\n    setFavorites(data[0]);\r\n  }\r\n  fetchcartData();\r\n}, []);\r\nfunction deleteFavoritesItem(){\r\n    async function fetchdeletefavoritesData() {\r\n      const userInfo = JSON.parse(Cookie.get('userInfo'));\r\n      try {\r\n        const response = await fetch('http://localhost:3000/favorites/deletefavorites', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            product_id: deleteitem,\r\n            user_id: userInfo[0][0].id,\r\n          }),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n        const data = await response.json();\r\n        console.log(data);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    fetchdeletefavoritesData();\r\n  }\r\n\r\nreturn (\r\n<div>\r\n<h1>Favoriler</h1>\r\n<table>\r\n<thead>\r\n<tr>\r\n<th>User_id</th>\r\n<th>Product_id</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n{favorites.map(item => (\r\n<tr key={item.user_id}>\r\n<td>{item.user_id}</td>\r\n<td>{item.product_id}</td>\r\n</tr>\r\n))}{\r\n    <form onSubmit={() => { deleteFavoritesItem(); }}>\r\n                <ul className=\"form-container\">\r\n                  <li>\r\n                    <label htmlFor=\"deleteitem\">Delete Item Number</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"deleteitem\"\r\n                      id=\"deleteitem\"\r\n                      onChange={e => setDeleteItem(e.target.value)}\r\n                      \r\n                    ></input>\r\n                  </li>\r\n                  <li>\r\n                    <button type=\"submit\" className=\"button primary\">\r\n                      Delete Favorites İtem\r\n                    </button>\r\n                  </li>\r\n                </ul>\r\n     </form>\r\n}\r\n</tbody>\r\n</table>\r\n</div>\r\n);\r\n}\r\n\r\nexport default CartScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}