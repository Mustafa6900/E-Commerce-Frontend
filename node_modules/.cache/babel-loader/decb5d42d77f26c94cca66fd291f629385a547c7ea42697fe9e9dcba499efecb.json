{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fener\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\React Projeler\\\\ZaraDemo\\\\node-react-ecommerce-master\\\\frontend\\\\src\\\\screens\\\\FavoritesScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Cookie from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CartScreen() {\n  _s();\n  const [favorites, setFavorites] = useState([]);\n  useEffect(() => {\n    async function fetchcartData() {\n      const userInfo = JSON.parse(Cookie.get('userInfo'));\n      console.log(userInfo[0][0].id, \"  user id\");\n      const response = await fetch(\"http://localhost:3000/favorites\", {\n        method: 'POST',\n        body: JSON.stringify({\n          user_id: userInfo[0][0].id\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      setFavorites(data[0]);\n    }\n    fetchcartData();\n  }, []);\n  function deleteFavoritesItem(id) {\n    async function fetchdeletefavoritesData() {\n      const userInfo = JSON.parse(Cookie.get('userInfo'));\n      try {\n        const response = await fetch('http://localhost:3000/favorites/deletefavorites', {\n          method: 'DELETE',\n          body: JSON.stringify({\n            product_id: id,\n            user_id: userInfo[0][0].id\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          // İstek başarılı olduğunda bir başarı mesajı gösterin\n          alert('Ürün başarıyla silindi!');\n        } else {\n          // İstek başarısız olduğunda bir hata mesajı gösterin\n          alert('Ürün silinirken hata oluştu!');\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    fetchdeletefavoritesData();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Favoriler\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"User_id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Product_id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: favorites.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.user_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.product_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteFavoritesItem(item.product_id),\n              children: \"Sil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 5\n          }, this)]\n        }, item.user_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 1\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 1\n  }, this);\n}\n_s(CartScreen, \"gYNGUuNbE7AW8shO5JZPpsJJ/gw=\");\n_c = CartScreen;\nexport default CartScreen;\nvar _c;\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"names":["React","useState","useEffect","Cookie","CartScreen","favorites","setFavorites","fetchcartData","userInfo","JSON","parse","get","console","log","id","response","fetch","method","body","stringify","user_id","headers","data","json","deleteFavoritesItem","fetchdeletefavoritesData","product_id","ok","alert","error","map","item"],"sources":["C:/Users/fener/OneDrive/Masaüstü/React Projeler/ZaraDemo/node-react-ecommerce-master/frontend/src/screens/FavoritesScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Cookie from 'js-cookie';\r\nfunction CartScreen() {\r\n\r\nconst [favorites, setFavorites] = useState([]);\r\n\r\nuseEffect(() => {\r\n\r\n  async function fetchcartData() {\r\n    const userInfo = JSON.parse(Cookie.get('userInfo'));\r\n    console.log(userInfo[0][0].id, \"  user id\");\r\n    const response = await fetch(\"http://localhost:3000/favorites\", {\r\n      method: 'POST',\r\n      body: JSON.stringify({ \r\n        user_id: userInfo[0][0].id,\r\n        \r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    const data = await response.json();\r\n    setFavorites(data[0]);\r\n  }\r\n  fetchcartData();\r\n}, []);\r\nfunction deleteFavoritesItem(id){\r\n    async function fetchdeletefavoritesData() {\r\n      const userInfo = JSON.parse(Cookie.get('userInfo'));\r\n      try {\r\n        const response = await fetch('http://localhost:3000/favorites/deletefavorites', {\r\n          method: 'DELETE',\r\n          body: JSON.stringify({\r\n            product_id: id,\r\n            user_id: userInfo[0][0].id,\r\n          }),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n        if (response.ok) {\r\n            // İstek başarılı olduğunda bir başarı mesajı gösterin\r\n            alert('Ürün başarıyla silindi!');\r\n          } else {\r\n            // İstek başarısız olduğunda bir hata mesajı gösterin\r\n            alert('Ürün silinirken hata oluştu!');\r\n          }\r\n          \r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    fetchdeletefavoritesData();\r\n  }\r\n\r\nreturn (\r\n<div>\r\n<h1>Favoriler</h1>\r\n<table>\r\n<thead>\r\n<tr>\r\n<th>User_id</th>\r\n<th>Product_id</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n{favorites.map(item => (\r\n<tr key={item.user_id}>\r\n<td>{item.user_id}</td>\r\n<td>{item.product_id}</td>\r\n{\r\n    <li>\r\n        <button onClick={() => deleteFavoritesItem(item.product_id)}>Sil</button>\r\n    </li>\r\n}\r\n</tr>\r\n))}\r\n</tbody>\r\n</table>\r\n</div>\r\n);\r\n}\r\n\r\nexport default CartScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}