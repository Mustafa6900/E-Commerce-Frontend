{"ast":null,"code":"import Axios from \"axios\";\nimport Cookie from 'js-cookie';\nimport { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL } from \"../constants/userConstants\";\nconst update = _ref => {\n  let {\n    id,\n    email,\n    password\n  } = _ref;\n  return async dispatch => {\n    try {\n      dispatch({\n        type: USER_UPDATE_REQUEST,\n        payload: {\n          id,\n          email,\n          password\n        }\n      });\n      const {\n        data\n      } = await Axios.put(\"http://localhost:3000/guestupdate/\" + id, {\n        email,\n        password\n      });\n      dispatch({\n        type: USER_UPDATE_SUCCESS,\n        payload: data\n      });\n      Cookie.set('userInfo', JSON.stringify(data));\n    } catch (error) {\n      dispatch({\n        type: USER_UPDATE_FAIL,\n        payload: error.message\n      });\n    }\n  };\n};\nconst signin = (email, password) => async dispatch => {\n  dispatch({\n    type: USER_SIGNIN_REQUEST,\n    payload: {\n      email,\n      password\n    }\n  });\n  try {\n    const {\n      data\n    } = await Axios.post(\"http://localhost:3000/guest/login\", {\n      email,\n      password\n    });\n    dispatch({\n      type: USER_SIGNIN_SUCCESS,\n      payload: data\n    });\n    Cookie.set('userInfo', JSON.stringify(data));\n    console.log(data);\n    console.log(\"-------\");\n    console.log(Cookie.get('userInfo') + \"cookie signed in\");\n  } catch (error) {\n    dispatch({\n      type: USER_SIGNIN_FAIL,\n      payload: error.message\n    });\n    console.log(error.message + \"not signed in\");\n  }\n};\nconst register = (name, email, password) => async dispatch => {\n  dispatch({\n    type: USER_REGISTER_REQUEST,\n    payload: {\n      name,\n      email,\n      password\n    }\n  });\n  try {\n    const {\n      data\n    } = await Axios.post(\"http://localhost:3000/guest/addguest\", {\n      name,\n      email,\n      password\n    });\n    dispatch({\n      type: USER_REGISTER_SUCCESS,\n      payload: data\n    });\n    Cookie.set('userInfo', JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: USER_REGISTER_FAIL,\n      payload: error.message\n    });\n  }\n};\nconst logout = () => dispatch => {\n  Cookie.remove(\"userInfo\");\n  dispatch({\n    type: USER_LOGOUT\n  });\n};\nexport { signin, register, logout, update };","map":{"version":3,"names":["Axios","Cookie","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_LOGOUT","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","update","id","email","password","dispatch","type","payload","data","put","set","JSON","stringify","error","message","signin","post","console","log","get","register","name","logout","remove"],"sources":["C:/Users/fener/OneDrive/Masaüstü/React Projeler/ZaraDemo/node-react-ecommerce-master/frontend/src/actions/userActions.js"],"sourcesContent":["import Axios from \"axios\";\nimport Cookie from 'js-cookie';\nimport {\n  USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS,\n  USER_SIGNIN_FAIL, USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL\n} from \"../constants/userConstants\";\n\nconst update = ({ id, email, password }) => async dispatch => {\n  try {\n  dispatch({ type: USER_UPDATE_REQUEST, payload: { id, email, password } });\n  const { data } = await Axios.put(\"http://localhost:3000/guestupdate/\"+ id, { email, password });\n  dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\n  Cookie.set('userInfo', JSON.stringify(data));\n  } catch (error) {\n  dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\n  }\n  };\n\nconst signin = (email, password) => async (dispatch) => {\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\n  try {\n    const { data } = await Axios.post(\"http://localhost:3000/guest/login\", { email, password });\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\n    Cookie.set('userInfo', JSON.stringify(data));\n    console.log(data);\n    console.log(\"-------\")\n    console.log(Cookie.get('userInfo')+ \"cookie signed in\")\n\n  } catch (error) {\n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.message });\n    console.log(error.message+ \"not signed in\");\n  }\n}\n\nconst register = (name, email, password) => async (dispatch) => {\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\n  try {\n    const { data } = await Axios.post(\"http://localhost:3000/guest/addguest\", { name, email, password });\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n    Cookie.set('userInfo', JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.message });\n  }\n}\n\nconst logout = () => (dispatch) => {\n  Cookie.remove(\"userInfo\");\n  dispatch({ type: USER_LOGOUT })\n}\nexport { signin, register, logout, update };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}